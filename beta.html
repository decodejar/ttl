<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAO Tensor Law — Bittensor Price Model — by decodejar</title>
    
    <!-- ===== FAVICON TAGS ===== -->
    <link rel="icon" href="/decode-favicon.png" type="image/png">
    <link rel="shortcut icon" href="/decode-favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/decode-favicon.png">
    <!-- ===== END FAVICON TAGS ===== -->    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EXV4MXZNHJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-EXV4MXZNHJ');
    </script>    

    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Importing Inter, Courgette, and JetBrains Mono -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Courgette&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind Configuration for Custom Fonts/Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        handwriting: ['Courgette', 'cursive'],
                        mono: ['JetBrains Mono', 'monospace'], 
                    },
                    colors: {
                        slate: {
                            850: '#1e293b', // Custom deep slate
                        }
                    },
                    boxShadow: {
                        'glass': '0 4px 30px rgba(0, 0, 0, 0.1)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(255, 255, 255, 0.3)',
                    }
                }
            }
        }
    </script>

    <!-- Internal Styles -->
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            /* RESTORED: Blue-themed gradient background */
            background-color: #f1f5f9; /* slate-100 */
            background-image: radial-gradient(at 0% 0%, hsla(215,30%,15%,0) 0, transparent 50%), radial-gradient(at 50% 0%, hsla(225,39%,30%,0) 0, transparent 50%), radial-gradient(at 100% 0%, hsla(200,50%,25%,0) 0, transparent 50%);
        }
        
        /* Loader animation */
        .loader {
            border: 3px solid rgba(226, 232, 240, 0.3); /* slate-200 equivalent */
            border-left-color: #2563eb; /* blue-600 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        /* Colored status dot */
        .status-dot {
            height: 8px;
            width: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            box-shadow: 0 0 0 2px rgba(255,255,255,0.5);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* --- Fullscreen CSS Logic --- */
        
        body:has(#mainContainer:fullscreen) { display: block; background: white; }

        #mainContainer:fullscreen {
            width: 100vw;
            height: 100vh;
            max-width: none !important;
            border-radius: 0 !important;
            border: none !important;
            display: flex;
            flex-direction: column;
            padding: 0 !important;
            background: white;
        }

        #mainContainer:fullscreen #chartCard {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            box-shadow: none !important;
            border: none !important;
            background: transparent !important;
        }

        #mainContainer:fullscreen #chartWrapper {
            height: 100% !important;
            flex-grow: 1;
        }

        body:has(#mainContainer:fullscreen) footer { display: none; }

        /* --- Mobile Fullscreen Optimizations --- */
        @media (max-width: 639px) and (orientation: portrait) {
            #mainContainer:fullscreen #rotateOverlay { display: flex !important; }
            #mainContainer:fullscreen header,
            #mainContainer:fullscreen #topStatusBar,
            #mainContainer:fullscreen #chartCard,
            #mainContainer:fullscreen #bottomModelBar,
            #mainContainer:fullscreen #fullscreenBtn { display: none !important; }
        }

        #mainContainer.mobile-fullscreen-landscape {
             /* Reset container padding to 0 so bars span full width */
             padding: 0 !important;
        }
        
        #mainContainer.mobile-fullscreen-landscape #bottomModelBar { display: none !important; }
        
        /* Only zeroing vertical padding to maximize space. */
        #mainContainer.mobile-fullscreen-landscape #chartCard { 
            padding-top: 0 !important;
            padding-bottom: 0.25rem !important; 
        }
        
        /* Header Adjustments for Mobile Landscape Fullscreen */
        #mainContainer.mobile-fullscreen-landscape header {
             height: 2.5rem !important; /* Keep slightly compact */
             margin-bottom: 0 !important; /* Remove gap (extra line) */
        }
        #mainContainer.mobile-fullscreen-landscape header h1 { font-size: 1.125rem !important; }
        #mainContainer.mobile-fullscreen-landscape header img { width: 1.75rem !important; height: 1.75rem !important; }
        #mainContainer.mobile-fullscreen-landscape #fullscreenBtn svg { width: 1.25rem !important; height: 1.25rem !important; }
        #mainContainer.mobile-fullscreen-landscape #headerLinkWrapper {
             font-size: 0.75rem !important;
             line-height: 1rem !important;
        }
        #mainContainer.mobile-fullscreen-landscape #headerLinkWrapper a:first-of-type,
        #mainContainer.mobile-fullscreen-landscape #headerLinkWrapper span { display: none !important; }

        /* Top Status Bar Adjustments for Mobile Landscape Fullscreen */
        /* Forces the "step down" size (text-xs / py-2) regardless of screen resolution */
        #mainContainer.mobile-fullscreen-landscape #topStatusBar {
             padding-top: 0.4rem !important;
             padding-bottom: 0.4rem !important;
        }
        #mainContainer.mobile-fullscreen-landscape #topStatusBar,
        #mainContainer.mobile-fullscreen-landscape #topStatusBar * {
             font-size: 0.75rem !important; /* text-xs */
             line-height: 1rem !important;
        }
        
        /* --- Projection & Band Table Styles --- */
        #projectionTable,
        #bandLevelsTable {
            position: absolute;
            top: 12%;
            z-index: 20;
            background-color: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            font-size: 0.75rem;
            line-height: 1.4; 
            color: #334155;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.6);
            width: max-content;
            transition: box-shadow 0.2s ease;
        }
        
        #projectionTable:hover,
        #bandLevelsTable:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        #projectionTable { left: 5%; }
        #bandLevelsTable { left: 5%; }

        #projectionTable h3,
        #bandLevelsTable h3 {
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 0.5rem; 
            border-bottom: 1px solid rgba(203, 213, 225, 0.5);
            padding-bottom: 0.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: grab;
            user-select: none;
            letter-spacing: -0.02em;
        }
        
        #projectionTable h3:active,
        #bandLevelsTable h3:active {
            cursor: grabbing;
        }

        #projectionData > div,
        #bandLevelsTable > div > div {
            display: flex;
            justify-content: space-between;
            padding: 1px 0; 
            gap: 2rem; 
        }

        #projectionData > div span:first-child,
        #bandLevelsTable > div > div span:first-child {
            color: #64748b;
            font-weight: 500;
        }
        
        #projectionData > div span:last-child,
        #bandLevelsTable > div > div span:last-child {
            font-family: 'JetBrains Mono', monospace; 
            font-weight: 500;
            color: #0f172a;
            text-align: right;
        }
        
        #projectionTable h3 button,
        #bandLevelsTable h3 button {
            margin-left: 0.75rem;
            color: #94a3b8;
            cursor: pointer;
            background: none;
            border: none;
            padding: 2px;
            border-radius: 4px;
            transition: all 0.2s;
        }
        #projectionTable h3 button:hover,
        #bandLevelsTable h3 button:hover { color: #ef4444; background: rgba(239, 68, 68, 0.1); }
        
    </style>
</head>
<body class="text-slate-800 flex flex-col items-center h-screen p-3 sm:p-4 md:p-6 overflow-hidden bg-slate-200">

    <!-- SEO text -->
    <div class="sr-only">
        TAO Tensor Law is a Bittensor price model. This interactive chart models the price history of TAO against a logarithmic power law regression (Price = C * (Time + Offset)^α). With an optimal time offset for best fit, it calculates the 'fair value' trend line and price rating bands (discount, value, expensive, bubble) to help visualize TAO's historical valuation. The tool includes features to toggle bands, pan, zoom, and see future price projections based on this long-term model. The TAO Tensor Law Model was created by decodejar (decodejar.com, x.com/decodejar).
    </div>

    <!-- Main application container -->
    <div id="mainContainer" class="w-full flex-grow max-w-[1920px] max-h-[1080px] min-h-[30rem] flex flex-col bg-white/80 backdrop-blur-xl rounded-2xl border border-white/50 shadow-2xl shadow-slate-400/30 relative overflow-hidden transition-all duration-300">

        <!-- Mobile Rotate Overlay -->
        <div id="rotateOverlay" class="hidden absolute inset-0 w-full h-full bg-white/95 z-50 flex-col items-center justify-center text-center p-8 backdrop-blur-sm">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-blue-500 mb-4 animate-pulse">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.992 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
            </svg>
            <h2 class="text-2xl font-semibold text-slate-800 mb-2">Please Rotate Device</h2>
            <p class="text-slate-500">This chart is optimized for landscape mode.</p>
        </div>

        <!-- Page Header -->
        <header class="relative h-14 sm:h-16
